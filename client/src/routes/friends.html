<import from="./bottom.css"></import>
<import from="./friends.css"></import>
<div class="bottom-headview">
  <!-- <fast-button appearance="lightweight" load="../-@bottom">Annuler</fast-button> -->
  <fast-button appearance="lightweight" load="../-@bottom">Close</fast-button>
  <span>Friends</span>
  <fast-button appearance="lightweight" load="../add-friend">Add</fast-button>
</div>

<div class="bottom-contentview">

  <template if.bind="requests.length">
    <p>Friend Requests</p>
    <div class="user-list">
      <div class="user-list-item" repeat.for="friendship of requests">
        <mini-user user-id.bind="friendship.friend.id"></mini-user>
        <fast-button if.bind="isMyRequest(friendship)" appearance="lightweight" click.trigger="removeFriendship(friendship.id)">Cancel</fast-button>
        <fast-button if.bind="!isMyRequest(friendship)" appearance="lightweight" click.trigger="respondToFriendshipRequest(friendship.id, 'accepted')">Accept</fast-button>
        <fast-button if.bind="!isMyRequest(friendship)" appearance="lightweight" click.trigger="respondToFriendshipRequest(friendship.id, 'declined')">Decline</fast-button>
      </div>
    </div>
  </template>

  <template if.bind="friends.length">
    <p>Friends</p>
    <div class="user-list">
      <div class="user-list-item" repeat.for="friendship of friends">
        <mini-user user-id.bind="friendship.friend.id"></mini-user>
        <fast-button appearance="lightweight" click.trigger="removeFriendship(friendship.id)">Remove</fast-button>
      </div>
    </div>
  </template>
</div>