<import from="./variables.css"></import>
<import from="./views.css"></import>
<import from="./typography.css"></import>
<import from="./fast-trick.css"></import>
<import from="./routes/topic-form"></import>
<import from="./routes/topic-detail"></import>
<import from="./routes/sharing"></import>
<import from="./routes/account"></import>
<import from="./routes/edit-profile"></import>
<import from="./routes/friends"></import>
<import from="./routes/add-friend"></import>
<import from="./routes/messages"></import>
<import from="./routes/praying"></import>
<import from="./routes/topics"></import>
<import from="./routes/conversation"></import>
<import from="./routes/missing"></import>
<import from="./routes/login"></import>
<import from="./routes/register"></import>
<!-- TODO: enable dark mode later -->
<!-- <import from="./dark.css"></import> -->
<!-- <import from="./routes/test"></import> -->
<fast-design-system-provider use-defaults background-color="#FFFFFF" type-ramp-base-font-size="16px" class="dw">
  <au-viewport default="topics" fallback="missing" name="main"></au-viewport>
  <div class="bottom-bar" if.bind="apolloAuth.authenticated && apolloAuth.state === 1">
    <div class="bottom-bar-button" load="topics">
      <fast-badge fill="primary" color="black" circular if.bind="global.notificationService.unviewedTopicIds.length > 0">${global.notificationService.unviewedTopicIds.length}</fast-badge>
      <pray-icon icon="Collection" type="${topicsActive(router.activeComponents, router.activeComponents.length) ? 'solid' : 'outline'}"></pray-icon>
    </div>
    <div class="bottom-bar-button" load="messages">
      <fast-badge fill="primary" color="black" circular if.bind="global.notificationService.unviewedMessageIds.length > 0">${global.notificationService.unviewedMessageIds.length}</fast-badge>
      <pray-icon icon="Chat" type="${messagesActives(router.activeComponents, router.activeComponents.length) ? 'solid' : 'outline'}"></pray-icon>
    </div>
    <div class="bottom-bar-button" load="account">
      <fast-badge fill="primary" color="black" circular if.bind="global.notificationService.requestedFriendshipIds.length > 0">${global.notificationService.requestedFriendshipIds.length}</fast-badge>
      <mini-user class="${accountActive(router.activeComponents, router.activeComponents.length) ? 'active' : ''}" user-id.bind="apolloAuth.userId" if.bind="apolloAuth.userId" only-avatar.bind="true"></mini-user>
    </div>
    <div class="bottom-bar-button" load="praying">
      <pray-icon icon="Sparkles" class="praying-button"></pray-icon>
    </div>
  </div>
  <au-viewport name="detail" used-by="topic-detail,conversation" no-history></au-viewport>
  <au-viewport name="praying" used-by="praying" no-history></au-viewport>
  <au-viewport name="bottom" used-by="topic-form,sharing,friends,add-friend,edit-profile" no-history></au-viewport>
</fast-design-system-provider>
